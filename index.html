<!DOCTYPE html>
<!--
	CivClicker
	Copyright (C) 2014; see the AUTHORS file for authorship.

	This program is free software: you can redistribute it and/or modify
	it under the terms of the GNU General Public License as published by
	the Free Software Foundation, either version 3 of the License, or
	(at your option) any later version.

	This program is distributed in the hope that it will be useful,
	but WITHOUT ANY WARRANTY; without even the implied warranty of
	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
	GNU General Public License for more details.

	You should have received a copy of the GNU General Public License
	along with this program in the LICENSE file.
	If it is not there, see <http://www.gnu.org/licenses/>.
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-gb" lang="en-gb">
<head>
	<title>CivClicker</title>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
	<meta name="description" content="CivClicker: Build a Civilisation In Your Browser" />

  <script type="application/javascript" src="scripts/lib/jquery-3.2.0.min.js"></script>
  <script type="application/javascript" src="scripts/lib/jquery.cookie.js"></script>
  <script type="application/javascript" src="scripts/lib/logger.min.js"></script>

	<link rel="stylesheet" type="text/css" href="styles/bootstrap.min.css" />
	<!--<link rel="stylesheet" type="text/css" href="styles/bootstrap-theme.min.css" />-->
	<script type="application/javascript" src="scripts/lib/bootstrap.min.js"></script>

	<script type="application/javascript" src="scripts/lib/mustache.min.js"></script>

  <script type="application/javascript" src="scripts/lib/jquery.bootstrapThemeSwitcher.js"></script>

	<link rel="stylesheet" type="text/css" href="styles/civclicker2.css" />

	<!-- JS utilities -->
	<script type="application/javascript" src="scripts/lz-string.js"></script>
	<script type="application/javascript" src="scripts/jsutils.js"></script>
	<!-- Polyfill from https://developer.mozilla.org/en-US/docs/Web/API/Element.classList -->
	<script type="application/javascript" src="scripts/classList.js"></script>
	<script type="application/javascript" src="scripts/ui.js"></script>

  <!-- Classes -->
	<script type="application/javascript" src="scripts/classes/VersionData.js" defer="defer"></script>
	<script type="application/javascript" src="scripts/classes/CivObj.js" defer="defer"></script>
	<script type="application/javascript" src="scripts/classes/Resource.js" defer="defer"></script>
	<script type="application/javascript" src="scripts/classes/Building.js" defer="defer"></script>
	<script type="application/javascript" src="scripts/classes/Upgrade.js" defer="defer"></script>
	<script type="application/javascript" src="scripts/classes/Unit.js" defer="defer"></script>
	<script type="application/javascript" src="scripts/classes/Achievement.js" defer="defer"></script>

	<!-- Main program -->
	<script type="application/javascript" src="scripts/civclicker-data.js" defer="defer"></script>
	<script type="application/javascript" src="scripts/civclicker-update.js" defer="defer"></script>
	<script type="application/javascript" src="scripts/civclicker.js" defer="defer"></script>
</head>
<body>

  <div id="main" class="row">

    <div id="sidebar" class="col-sm-3 col-md-2 sidebar navbar navbar-default">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">
          CivClicker
          <span class="version">1.4.0</span>
        </a>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav nav-sidebar">
          <li>
              <a class="show-page" data-page="resources" href="#">Resources</a>
          </li>
          <li>
              <a class="show-page" data-page="population" href="#">Population</a>
          </li>
          <li>
              <a class="show-page" data-page="buildings" href="#">Buildings</a>
          </li>
          <li>
              <a class="show-page" data-page="upgrades" href="#">Upgrades</a>
          </li>
          <li>
              <a class="show-page" data-page="deities" href="#">Deities</a>
          </li>
          <li>
              <a class="show-page" data-page="conquest" href="#">Conquest</a>
          </li>
          <li>
              <a class="show-page" data-page="trade" href="#">Trade</a>
          </li>
          <li>
              <a class="show-page" data-page="achievements" href="#">Achievements</a>
          </li>
          <li>&nbsp;</li>
          <li>
              <a href="#">FAQ</a>
          </li>
          <li>
              <a href="#">Log</a>
          </li>
          <li>
              <a href="#">Reddit</a>
          </li>
          <li>
              <a href="#">Settings</a>
          </li>
        </ul>
      </div>
    </div>

    <div id="right" class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">

      <nav class="navbar navbar-default" id="stripInner">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
          </div>
          <div class="collapse navbar-collapse">
            <span class="navbar-text">Population: <span id="navbar-population" data-action="display_pop" data-target="living"></span></span>
            <span class="navbar-text">Food: <span id="navbar-food" data-action="display" data-target="food"></span></span>
            <span class="navbar-text">Wood: <span id="navbar-wood" data-action="display" data-target="wood"></span></span>
            <span class="navbar-text">Stone: <span id="navbar-stone" data-action="display" data-target="stone"></span></span>
          </div>
      </nav>

      <div id="pages">

        <div id="strip">
          <div id="header">
            <h1>The <span id="civType">Thorp</span> of <span id="civName">Woodstock</span>
              <small id="ruler">Ruled by the <span id="appellation">mighty</span> <span id="rulerName">Orteil</span></small>
            </h1>
          </div>
        </div>

        <div id="page-resources" class="page">
          <!-- Populated with Ajax at page load -->
        </div>

        <div id="page-population" class="page">
          <!-- Populated with Ajax at page load -->
        </div>

        <div id="page-buildings" class="page">
          <!-- Populated with Ajax at page load -->
        </div>

      </div>  <!-- End pages -->

    </div>

  <div id="eventsContainer" class="civSection">
    <h3>Events</h3>
    <table class="table" id="logTable">
      <tr id="log0"><td id="logT"></td><td id="logL"></td><td id="logR"></td></tr>
      <tr id="log1"><td colspan="3"></td></tr>
      <tr id="log2"><td colspan="3"></td></tr>
      <tr id="log3"><td colspan="3"></td></tr>
      <tr id="log4"><td colspan="3"></td></tr>
      <tr id="log5"><td colspan="3"></td></tr>
      <tr id="log6"><td colspan="3"></td></tr>
      <!-- 
        <tr id="log7"><td colspan="3"></td></tr>
        <tr id="log8"><td colspan="3"></td></tr>
        <tr id="log9"><td colspan="3"></td></tr> -->
    </table>
  </div>
</div>

	<div id="panesSelectors" class="civSection">

    <!--
    <ul class="nav nav-tabs" role="tablist">
      <li role="presentation" class="active"><a href="#buildingsPane" aria-controls="buildingsPane" role="tab" data-toggle="tab">Buildings</a></li>
      <li role="presentation">
          <a href="#upgradesPane" aria-controls="upgradesPane" role="tab" data-toggle="tab">
            Upgrades
            <span id="upgrade-pane-alert" class="badge alert-warning civ-pane-alert" style="display: none;"><b>!</b></span>
          </a>
      </li>
      <li role="presentation"><a href="#deityPane" aria-controls="deityPane" role="tab" data-toggle="tab">Deities</a></li>
      <li role="presentation"><a href="#conquestPane" aria-controls="conquestPane" role="tab" data-toggle="tab">Conquest</a></li>
      <li role="presentation">
        <a href="#tradePane" aria-controls="tradePane" role="tab" data-toggle="tab">
          Trade
          <span id="trade-pane-alert" class="badge alert-warning civ-pane-alert" style="display: none;"><b>!</b></span>
        </a>
        </li>
      <li role="presentation"><a href="#achievementsPane" aria-controls="achievementsPane" role="tab" data-toggle="tab">Achievements</a></li>
    </ul>
    -->

    <div class="tab-content">
      
      <div id="upgradesPane" class="tab-pane">
        <div id="wondersContainer">
          <h3>Wonders</h3>
          <span id="startWonderLine"><button class="btn btn-default" id="startWonder" onmousedown="startWonder()">Start Building Wonder</button></span>
          <div id="wonderInProgress">
            <p>
              <span class="wonderTitle">Progress on <span id="wonderNameP">Wonder</span> - <span id="progressNumber">0</span>%</span> - <button class='btn btn-default' id="renameWonder" onmousedown="renameWonder()">Rename</button>
            </p>
            <div id="wonderProgressContainer">
              <div id="wonderProgressBar"></div>
            </div>
            <div id="lowResources">Limited<span id="limited"> by low resources</span></div>
            <div id="speedWonderGroup"><br /><button class='btn btn-default' id="speedWonder" onmousedown="speedWonder()">Speed Wonder</button>
            <span id="speedWonderCost" class="cost">100 gold</span><span class="note">: Increase wonder progress</span></div>
          </div>
          <div id="wonderCompleted">
            <div class="wonderTitle"><span id="wonderNameC">Wonder</span> Completed! Choose Bonus:</div>
          </div>
          <table class="table" id="pastWonders"><tr><td></td></tr></table>
        </div>
        <table class="table" id="upgrades"></table>
      </div>

      <div id="deityPane" class="tab-pane">
        <div class="notYet">
          Your civilization does not yet worship a deity. 
          <span class="tip">You need to increase piety by assigning clerics at a temple.</span>
        </div>
        <div id="deityContainer">
          <h3>Current Deity</h3>
          <table class="table" id="activeDeity">
            <!-- populated by javascript -->
          </table>
        </div>
        <span id="walkGroup" style="display: none;"><br />Walk: <span id="walkStat">...</span> workers per second<br /></span>
        <div id="worshipRow">
          <!-- populated by updatePurchaseRow -->
        </div>

        <div id="deityDomains">
          <p>
            You may select only one domain for your deity:
          </p>
          <div class="row">
            <div id="battleRow" class="purchaseRow col-xs-4" data-target="battle"> 
              <span class="upgradetrue" data-quantity="true">
                <button id="battleDeity" class="xtrue purchaseFor500Piety btn btn-default btn-block" onmousedown="selectDeity('battle')">Battle</button>
              </span>
            </div>
            <div class="col-xs-8 deity-cost">
              <span id="battleCost" class="cost">500 piety</span>
            </div>
            <div id="fieldsRow" class="purchaseRow col-xs-4" data-target="fields">
              <span class="upgradetrue" data-quantity="true">
                <button id="fieldsDeity" class="xtrue purchaseFor500Piety btn btn-default btn-block" onmousedown="selectDeity('fields')">Fields</button>
              </span>
            </div>		
            <div class="col-xs-8 deity-cost">
              <span id="fieldsCost" class="cost">500 piety</span>
            </div>
            <div id="underworldRow" class="purchaseRow col-xs-4" data-target="underworld">
              <span class="upgradetrue" data-quantity="true">
                <button id="underworldDeity" class="xtrue purchaseFor500Piety btn btn-default btn-block" onmousedown="selectDeity('underworld')">Underworld</button>
              </span>
            </div>
            <div class="col-xs-8 deity-cost">
              <span id="underworldCost" class="cost">500 piety</span>
            </div>
            <div id="catsRow" class="purchaseRow col-xs-4" data-target="cats">
              <span class="upgradetrue" data-quantity="true">
                <button id="catsDeity" class="xtrue purchaseFor500Piety btn btn-default btn-block" onmousedown="selectDeity('cats')">Cats</button>
              </span>
            </div>
            <div class="col-xs-8 deity-cost">
              <span id="catsCost" class="cost">500 piety</span>
            </div>
          </div>
        </div>

        <div id="battleUpgrades">
          <h3>The Strength of Battle</h3>
          <table class="table">
            <tr id="battleAltarRow"><td></td></tr>
            <tr id="riddleRow"><td></td></tr>
            <tr id="smiteRow"><td></td></tr>
            <tr id="throneRow"><td></td></tr>
            <tr id="gloryRow"><td></td></tr>
            <tr id="lamentRow"><td></td></tr>
          </table>
        </div>
        <div id="fieldsUpgrades">
          <h3>The Bounty of the Fields</h3>
          <table class="table">
            <tr id="fieldsAltarRow"><td></td></tr>
            <tr id="blessingRow"><td></td></tr>
            <tr id="wickermanRow"><td></td></tr>
            <tr id="wasteRow"><td></td></tr>
            <tr id="walkRow"><td></td></tr>
            <tr id="stayRow"><td></td></tr>
          </table>
        </div>
        <div id="underworldUpgrades">
          <h3>The Dread Power of the Underworld</h3>
          <table class="table">
            <tr id="underworldAltarRow"><td></td></tr>
            <tr id="bookRow"><td></td></tr>
            <tr id="raiseDeadRow"><td></td></tr>
            <tr id="feastRow"><td></td></tr>
            <tr id="summonShadeRow"><td></td></tr>
            <tr id="secretsRow"><td></td></tr>
          </table>
        </div>
        <div id="catsUpgrades">
          <h3>The Grace of Cats</h3>
          <table class="table">
            <tr id="catAltarRow"><td></td></tr>
            <tr id="lureRow"><td></td></tr>
            <tr id="pestControlRow"><td></td></tr>
            <tr id="companionRow"><td></td></tr>
            <tr id="graceRow"><td></td></tr>
            <tr id="comfortRow"><td></td></tr>
          </table>
        </div>
        <div id="pantheonContainer">
          <h3>Pantheon</h3>
          <table class="table" id="oldDeities"><tr><td></td></tr></table>
        </div>
        <div id="iconoclasmGroup">
          <button class="btn btn-default" id="iconoclasm" onmousedown="iconoclasmList()">Iconoclasm</button>
          <span id="iconoclasmCost" class="cost">1,000 piety</span>
          <span id="iconoclasmNote" class="note">: Remove an old deity to gain gold</span><br />
          <div id="iconoclasmList"></div>
        </div>
        <div id="pantheonUpgrades">
          <h3>Pantheon Upgrades</h3>
          <div id="purchasedPantheon"></div>
        </div>
      </div>

      <div id="conquestPane" class="tab-pane">
        <div class="notYet">
          You cannot command an army yet because you don't own a battle standard.
          <span class="tip">Try building a barracks first.</span>
        </div>
        <span id="standardRow">
          <!--  -->
        </span>
        <div id="conquest">
          <h3>Army</h3>

          <div id="customPartyQuantity" class="form form-horizontal">
            <label class="control-label col-xs-3">Custom quantity:</label>
            <div class="col-xs-3">
              <input class="form-control" id="partyCustomQty" type="number" min="1" step="1" value="1" />
            </div>
          </div>

          <table class="table" id="party">
            <!-- populated by javascript -->
          </table>
          <div id="raidNews">
            <!-- -->
          </div>
          <div id="raidGroup">
            <h3>To War!</h3>
            <p id="gloryGroup">
              Glory: <span id="gloryTimer">0</span> seconds remain
            </p>
          </div>
          <div id="victoryGroup">
            <h3>Victory!</h3>
            <button class='btn btn-default' id="plunder" onmousedown="plunder()">Plunder Resources</button><br />
          </div>
        </div>
        <div class="stats">
          Total Enemies Slain: <span data-action="display" data-target="enemySlain">...</span>
        </div>
      </div>

      <div id="tradePane" class="tab-pane">
        <div class="notYet">
          You do not yet own a trading post. <span class="tip">Try trading with a trader when they (randomly) appear.</span>
        </div>
        <div id="tradeContainer">
          Trader offers 1 gold for <span id="tradeRequested">...</span> <span id="tradeType">...</span>
          for the next <span id="traderTimer">...</span>.
          <br />
          <button class='btn btn-default btn-block' id="tradeButton" onmousedown="trade()">Trade</button>
          <br />
        </div>
        <div id="noTrader">
          No trader visiting
        </div>
        <span id="tradeRow">
          <!-- populated by javascript -->
        </span>
        <div id="tradeUpgradeContainer">
          <span id="currencyRow"></span>
          <span id="commerceRow"></span>
          <h4>Buy Resources (1 gold)</h4>
          <div class="row">
            <div class="col-sm-4">
              <button class="btn btn-default btn-block tradeResource" onmousedown="buy('food')">Buy 5000 Food</button>
            </div>
            <div class="col-xs-8 empty-trade-div"></div>
            <div class="col-sm-4">
              <button class="btn btn-default btn-block tradeResource" onmousedown="buy('wood')">Buy 5000 Wood</button>
            </div>
            <div class="col-xs-8 empty-trade-div"></div>
            <div class="col-sm-4">
              <button class="btn btn-default btn-block tradeResource" onmousedown="buy('wood')">Buy 5000 Wood</button>
            </div>
            <div class="col-xs-8 empty-trade-div"></div>
            <div class="col-sm-4">
              <button class="btn btn-default btn-block tradeResource" onmousedown="buy('stone')">Buy 5000 Stone</button>
            </div>
            <div class="col-xs-8 empty-trade-div"></div>
            <div class="col-sm-4">
              <button class="btn btn-default btn-block tradeResource" onmousedown="buy('skins')">Buy 500 Skins</button>
            </div>
            <div class="col-xs-8 empty-trade-div"></div>
            <div class="col-sm-4">
              <button class="btn btn-default btn-block tradeResource" onmousedown="buy('herbs')">Buy 500 Herbs</button>
            </div>
            <div class="col-xs-8 empty-trade-div"></div>
            <div class="col-sm-4">
              <button class="btn btn-default btn-block tradeResource" onmousedown="buy('ore')">Buy 500 Ore</button>
            </div>
            <div class="col-xs-8 empty-trade-div"></div>
            <div class="col-sm-4">
              <button class="btn btn-default btn-block tradeResource" onmousedown="buy('leather')">Buy 250 Leather</button>
            </div>
            <div class="col-xs-8 empty-trade-div"></div>
            <div class="col-sm-4">
              <button class="btn btn-default btn-block tradeResource" onmousedown="buy('metal')">Buy 250 Metal</button>
            </div>
          </div>
        </div>
      </div>

        <div id="achievementsPane" class="tab-pane">
          <div id="achievements">
            <!-- populated by javascript -->
          </div>
          <div class="stats">
            Resource clicks: <span id="clicks">0</span>
          </div>
        </div>
      </div>
    </div>

    </div>

    </div> <!-- End main col -->

    <!-- Mustache templates below -->

    <!-- Template for primary resource row -->
    <script id="resource-row-template" type="text/template">
      <tr id="{{objId}}Row" class="purchaseRow" data-target="{{objId}}">
        <td>
          <img src="images/{{objId}}.png" class="icon icon-lg" alt="{{objName}}"/>
        </td>
        <td>
          <button class="btn btn-default btn-block" data-action="increment">
            {{verb}}
          </button>
        </td>
        <td>
          <label>{{objName}}:</label>
          </td>
        <td class="number mainNumber"><span data-action="display">.</span></td>
        <td class="number maxNumber">/ max: <span id="max{{objId}}">...</span></td>
        <td class="number net"><span data-action="displayNet">..</span>/s</td>
      </tr>
    </script>

    <!-- Template for purchase cell text -->
    <script id="purchase-cell-template" type="text/template">
      <{{tagName}} id="" class="{{className}}{{absqty}}" data-quantity="{{qty}}">
        {{#allowPurchase}}
          <button class="btn btn-default btn-sm x{{absqty}}" data-action="purchase" disabled="disabled">{{{fmtqty}}}</button>
        {{/allowPurchase}}
      </{{tagName}}>
    </script>

    <!-- Template for purchase upgrade -->
    <script id="purchase-upgrade-template" type="text/template">
      <{{tagName}} id="" class="{{className}}{{absqty}}" data-quantity="{{qty}}">
        {{#allowPurchase}}
          <button class="btn btn-default btn-block x{{absqty}}" data-action="purchase" disabled="disabled">{{{fmtqty}}}</button>
        {{/allowPurchase}}
      </{{tagName}}>
    </script>

    <!-- Template for progress bar -->
    <script id="progress-bar-template" type="text/template">
      <div class="progress">
        <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
        </div>
      </div>
    </script>

    <!-- Raid button template -->
    <script id="raid-button-template" type="text/template">
      <div class='raid-buttons'>
        {{#elems}}
          <div class='row'>
            <div class='col-sm-6'>
              <button class='raid btn btn-default btn-block' data-action='raid' data-target='{{id}}' disabled='disabled'>
                Raid {{name}}
              </button>
            </div>
          </div>
        {{/elems}}
      </div>
    </script>

  <!-- Modal for settings etc -->
  <div id="civ-modal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Modal title</h4>
        </div>
        <div class="modal-body">
          <p>One fine body&hellip;</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

  </body>
</html>
